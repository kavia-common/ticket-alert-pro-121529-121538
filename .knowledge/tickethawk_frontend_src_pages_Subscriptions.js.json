{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component 'Subscriptions' that manages and displays user subscription plans, fetches data from API endpoints, and handles user interactions such as upgrading, downgrading, and canceling subscriptions. It includes UI elements for selecting plans, viewing features, and an upgrade modal.", "external_files": ["../context/AuthContext", "./Subscriptions.css"], "external_methods": ["useAuth()", "axios.get()", "axios.post()", "setPlans()", "setCurrentPlan()", "updateUser()"], "published": ["Subscriptions"], "classes": [], "methods": [{"name": "fetchSubscriptionData", "description": "Fetches subscription plans and current plan data from API endpoints; on failure, sets mock data."}, {"name": "handleUpgrade", "description": "Sets the selected plan and shows the upgrade modal."}, {"name": "handleSubscribe", "description": "Sends subscription request to the backend and updates the current plan on success."}, {"name": "handleCancelSubscription", "description": "Cancels the user's current subscription after confirmation prompt."}], "calls": ["axios.get('/api/subscriptions/plans')", "axios.get('/api/subscriptions/current')", "axios.post('/api/subscriptions/subscribe')", "axios.post('/api/subscriptions/cancel')", "setPlans()", "setCurrentPlan()", "updateUser()"], "search-terms": ["Subscriptions React component", "Subscription plans management", "fetch subscription data", "Upgrade modal", "Cancel subscription", "Subscription API endpoints"], "state": 2, "file_id": 27, "knowledge_revision": 81, "git_revision": "068251a05407f5b9be91b15c6659d6d76d371387", "revision_history": [{"60": ""}, {"81": "068251a05407f5b9be91b15c6659d6d76d371387"}], "ctags": [{"_type": "tag", "name": "Subscriptions", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^const Subscriptions = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentResponse", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^      const [plansResponse, currentResponse] = await Promise.all([$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchSubscriptionData", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const fetchSubscriptionData = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleCancelSubscription", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const handleCancelSubscription = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleSubscribe", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const handleSubscribe = async (planId, interval = 'month') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleUpgrade", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const handleUpgrade = (plan) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^      const response = await axios.post('\\/api\\/subscriptions\\/subscribe', {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCurrentPlan", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [currentPlan, setCurrentPlan] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlans", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [plans, setPlans] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedPlan", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [selectedPlan, setSelectedPlan] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowUpgradeModal", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [showUpgradeModal, setShowUpgradeModal] = useState(false);$/", "language": "JavaScript", "kind": "constant"}], "hash": "a783ff70ec71fc1f368f6a83b277e1e7", "format-version": 4, "code-base-name": "tickethawk_frontend", "filename": "tickethawk_frontend/src/pages/Subscriptions.js"}