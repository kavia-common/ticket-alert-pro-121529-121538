{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React component for managing user subscriptions, including fetching available plans, displaying current and available plans, and handling subscription upgrades, cancellations, and UI interactions.", "external_files": ["../context/AuthContext", "./Subscriptions.css"], "external_methods": ["useAuth()", "axios.get", "axios.post", "setPlans()", "setCurrentPlan()", "updateUser()"], "published": ["Subscriptions"], "classes": [], "methods": [{"name": "Subscriptions", "description": "React functional component for subscription management, handles state, fetches data, and provides UI for subscription plans."}, {"name": "fetchSubscriptionData", "description": "Fetches subscription plans and current subscription data, with fallback mock data on error."}, {"name": "handleUpgrade", "description": "Prepares and shows the upgrade modal for the selected plan."}, {"name": "handleSubscribe", "description": "Subscribes the user to a selected plan with specified billing interval."}, {"name": "handleCancelSubscription", "description": "Cancels the current user subscription after confirmation."}], "calls": ["axios.get('/api/subscriptions/plans')", "axios.get('/api/subscriptions/current')", "axios.post('/api/subscriptions/subscribe')", "axios.post('/api/subscriptions/cancel')", "setPlans()", "setCurrentPlan()", "updateUser()", "console.error()", "setShowUpgradeModal()"], "search-terms": ["Subscriptions.js", "subscription plans", "upgrade modal", "current subscription", "React useState", "axios calls"], "state": 2, "file_id": 27, "knowledge_revision": 60, "git_revision": "", "ctags": [{"_type": "tag", "name": "Subscriptions", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^const Subscriptions = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "currentResponse", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^      const [plansResponse, currentResponse] = await Promise.all([$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fetchSubscriptionData", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const fetchSubscriptionData = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleCancelSubscription", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const handleCancelSubscription = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleSubscribe", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const handleSubscribe = async (planId, interval = 'month') => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleUpgrade", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const handleUpgrade = (plan) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "response", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^      const response = await axios.post('\\/api\\/subscriptions\\/subscribe', {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setCurrentPlan", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [currentPlan, setCurrentPlan] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [loading, setLoading] = useState(true);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setPlans", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [plans, setPlans] = useState([]);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSelectedPlan", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [selectedPlan, setSelectedPlan] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowUpgradeModal", "path": "/home/kavia/workspace/code-generation/ticket-alert-pro-121529-121538/tickethawk_frontend/src/pages/Subscriptions.js", "pattern": "/^  const [showUpgradeModal, setShowUpgradeModal] = useState(false);$/", "language": "JavaScript", "kind": "constant"}], "hash": "7b0d6b0fa34220cb17ff89f06055005a", "format-version": 4, "code-base-name": "tickethawk_frontend", "filename": "tickethawk_frontend/src/pages/Subscriptions.js", "revision_history": [{"60": ""}]}